<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>路由</title>

</head>
	<script src="../js/vue.js"></script>
	<script src="../js/vue-router.js"></script>
	<script src="../js/vue-resource.js"></script>
	<body>

	<div id="demo">
		<!-- {{name}} -->
		<!-- <index></index> -->
		<!-- <router-view></router-view> -->

	</div>

	<template id="app">
		<a v-link="{path:'/index'}">index</a>
		<a v-link="{name:'home',params:{id:1,page:10}}">home</a>
		<router-view></router-view>
	</template>

</body>
	<script>
		var index = Vue.extend({
			template:'<div>第一个路由</div><router-view></router-view>',
			data:function(){
				return{
					name:'router'
				}
			}
		})
		var a =Vue.extend({
			template:'<p>index下路由嵌套a</p>'
		})
		var b =Vue.extend({
			template:'<p>index下路由嵌套b</p>'
		})
		var home = Vue.extend({
			template:'<div>第二个路由</div>',
			route:{
				data:function(transmition){
					console.log(transmition.to.params.id);
					this.$http.get('test1.php',{
						params:{
							name:transmition.to.params.id,
							b:'哈哈'
						}
					}).then(function(data){
						console.log(data.data)
					})
				}
			}
		})
		var app = Vue.extend({
			 template:'#app',
			 replace:false,
			data:function(){
				return {
					name:'fightme'
				}
			}
		})
		// Vue.conponent('index',index);
		//定义路由
		var router =new VueRouter();
		router.map({
			"/index":{
				component:index,
				//路由逻辑嵌套
				subRoutes:{
					'/a':{
						/*//compontent{
							template:'<p>index下路由嵌套a</p>'
						}*/
						component:a
					},
					'/b':{
						component:b
					}
				}
			},
			"/home/:id/:page":{
				name:'home',
				component:home,
			}
		});
		 router.start(app,'#demo');
		 //默认的路由
		 router.redirect({'*':'/index'})
		// var vm = new Vue({
		// 	el:'#demo',
		// 	data:{
		// 		name:'mystraight'
		// 	},
		// 	methods:{

		// 	}
		// })
	</script>
	<style>
		.v-link-active{
			color:red;
		}
	</style>
</html>